{"ast":null,"code":"import axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport { serverPort } from \"../const\";\nconst $host = axios.create({\n  baseURL: serverPort\n});\nexport const registration = async (name, surname, email, login, password) => {\n  const {\n    data\n  } = await $host.post(\"/registration\", {\n    name,\n    surname,\n    email,\n    login,\n    password\n  });\n  if (data[0] === true) {\n    localStorage.setItem(\"token\", data[1].token);\n    return jwtDecode(data[1].token);\n  } else {\n    alert(\"Пользователь с такой почтой или логином уже зарегистрирован\");\n  }\n};\nexport const familyPoll = async;\nexport const authUser = async (login, password) => {\n  const {\n    data\n  } = await $host.post(\"/auth\", {\n    login,\n    password\n  });\n  if (data[0] === true) {\n    localStorage.setItem(\"token\", data[1].token);\n    return true;\n  } else {\n    alert(\"Не правильный логин или пароль\");\n    return false;\n  }\n};","map":{"version":3,"names":["axios","jwtDecode","serverPort","$host","create","baseURL","registration","name","surname","email","login","password","data","post","localStorage","setItem","token","alert","familyPoll","async","authUser"],"sources":["C:/Users/VPR/Desktop/Новая папка/Diplom/client/src/queries/mainQuery.js"],"sourcesContent":["import axios from \"axios\"\r\nimport jwtDecode from \"jwt-decode\"\r\nimport { serverPort } from \"../const\"\r\n\r\nconst $host = axios.create({\r\n\tbaseURL: serverPort\r\n})\r\n\r\n  \r\nexport const registration = async (name, surname, email, login, password) => {\r\n\tconst {data} = await $host.post(\"/registration\", {name, surname, email, login, password})\r\n\tif(data[0] === true) {\r\n\t\tlocalStorage.setItem(\"token\", data[1].token)\r\n\t\treturn jwtDecode(data[1].token)\r\n\t}else{\r\n\t\talert(\"Пользователь с такой почтой или логином уже зарегистрирован\")\r\n\t}\r\n}\r\nexport const familyPoll = async \r\n\r\nexport const authUser =  async (login, password) => {\r\n\tconst {data} = await $host.post(\"/auth\", {login, password})\r\n\tif(data[0] === true) {\r\n\t\tlocalStorage.setItem(\"token\", data[1].token)\r\n\t\treturn true\r\n\t}else{\r\n\t\talert(\"Не правильный логин или пароль\")\r\n\t\treturn false\r\n\t}\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,UAAU,QAAQ,UAAU;AAErC,MAAMC,KAAK,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC1BC,OAAO,EAAEH;AACV,CAAC,CAAC;AAGF,OAAO,MAAMI,YAAY,GAAG,MAAAA,CAAOC,IAAI,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EAC5E,MAAM;IAACC;EAAI,CAAC,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,eAAe,EAAE;IAACN,IAAI;IAAEC,OAAO;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAQ,CAAC,CAAC;EACzF,IAAGC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;IACpBE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC;IAC5C,OAAOf,SAAS,CAACW,IAAI,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC;EAChC,CAAC,MAAI;IACJC,KAAK,CAAC,6DAA6D,CAAC;EACrE;AACD,CAAC;AACD,OAAO,MAAMC,UAAU,GAAGC,KAAK;AAE/B,OAAO,MAAMC,QAAQ,GAAI,MAAAA,CAAOV,KAAK,EAAEC,QAAQ,KAAK;EACnD,MAAM;IAACC;EAAI,CAAC,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,OAAO,EAAE;IAACH,KAAK;IAAEC;EAAQ,CAAC,CAAC;EAC3D,IAAGC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;IACpBE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC;IAC5C,OAAO,IAAI;EACZ,CAAC,MAAI;IACJC,KAAK,CAAC,gCAAgC,CAAC;IACvC,OAAO,KAAK;EACb;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}